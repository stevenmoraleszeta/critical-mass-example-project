// ============================================================================
// Floating Binary Elements Component Styles
// Following Critical Mass requirements: BEM, Mobile-First, Performance
// ============================================================================

@use '../base/variables' as *;
@use '../base/mixins' as *;

.floating-binary-elements {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  overflow: visible;
  pointer-events: none;
  z-index: 2.5;
  // Ensure children can receive pointer events even if parent has pointer-events: none
  touch-action: none;
  
  &__element {
    position: absolute;
    font-family: var(--font-mono, var(--font-family-mono));
    font-weight: var(--fw-normal);
    color: var(--color-white);
    user-select: none;
    white-space: nowrap;
    will-change: transform, opacity, color;
    cursor: default;
    pointer-events: auto !important;
    z-index: 10;
    // Ensure the element can receive hover events
    isolation: isolate;
    
    // Smooth color transition on hover
    transition: color var(--transition-base), opacity var(--transition-base), text-shadow var(--transition-base), filter var(--transition-base);
    
    // Performance optimization: use transform and opacity for animations
    transform-origin: center center;
    
    // Apply initial rotation from CSS variable
    // Default to 0deg if variable is not set
    transform: rotate(var(--initial-rotation, 0deg));
    
    // Reduce motion for users who prefer it
    @media (prefers-reduced-motion: reduce) {
      animation: none;
      transition: color var(--transition-base), opacity var(--transition-base);
    }
    
    // Different animation types based on data attribute
    &[data-value="0"] {
      animation: floating-binary-float-0 infinite ease-in-out;
    }
    
    &[data-value="1"] {
      animation: floating-binary-float-1 infinite ease-in-out;
    }
    
    // Hover color changes based on data-hover-color attribute
    &[data-hover-color="blue"]:hover {
      color: var(--color-blue) !important;
      opacity: 1 !important;
      text-shadow: 0 0 10px var(--color-blue), 0 0 20px var(--color-blue);
      filter: brightness(1.3);
    }
    
    &[data-hover-color="red"]:hover {
      color: var(--color-red) !important;
      opacity: 1 !important;
      text-shadow: 0 0 10px var(--color-red), 0 0 20px var(--color-red);
      filter: brightness(1.3);
    }
    
    &[data-hover-color="yellow"]:hover {
      color: var(--color-yellow) !important;
      opacity: 1 !important;
      text-shadow: 0 0 10px var(--color-yellow), 0 0 20px var(--color-yellow);
      filter: brightness(1.3);
    }
  }
}

// Floating animation keyframes - Type 0 (moderate movement, increased range)
// Rotations are relative to the initial rotation
// Increased movement while staying far from center
@keyframes floating-binary-float-0 {
  0% {
    transform: translateY(0) translateX(0) rotate(var(--initial-rotation, 0deg));
  }
  
  25% {
    // Increased movement with rotation
    transform: translateY(-20px) translateX(15px) 
               rotate(calc(var(--initial-rotation, 0deg) + 3deg));
  }
  
  50% {
    // More movement range
    transform: translateY(-30px) translateX(20px) 
               rotate(calc(var(--initial-rotation, 0deg) - 2deg));
  }
  
  75% {
    // Moderate return movement
    transform: translateY(-15px) translateX(18px) 
               rotate(calc(var(--initial-rotation, 0deg) + 2deg));
  }
  
  100% {
    transform: translateY(0) translateX(0) rotate(var(--initial-rotation, 0deg));
  }
}

// Floating animation keyframes - Type 1 (moderate orbital motion)
// Rotations are relative to the initial rotation
// Increased movements for more dynamic floating
@keyframes floating-binary-float-1 {
  0% {
    transform: translateY(0) translateX(0) rotate(var(--initial-rotation, 0deg));
  }
  
  25% {
    // Increased edge-ward movement
    transform: translateY(-18px) translateX(20px) 
               rotate(calc(var(--initial-rotation, 0deg) - 3deg));
  }
  
  50% {
    // More movement continuation
    transform: translateY(-25px) translateX(12px) 
               rotate(var(--initial-rotation, 0deg));
  }
  
  75% {
    // Moderate return
    transform: translateY(-12px) translateX(16px) 
               rotate(calc(var(--initial-rotation, 0deg) + 3deg));
  }
  
  100% {
    transform: translateY(0) translateX(0) rotate(var(--initial-rotation, 0deg));
  }
}

// Note: Animation duration is controlled dynamically via inline styles
// from the React component for better performance and flexibility

// Print styles - hide decorative elements
@media print {
  .floating-binary-elements {
    display: none;
  }
}

