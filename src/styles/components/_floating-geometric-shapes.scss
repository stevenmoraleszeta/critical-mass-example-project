@use '../base/variables' as *;
@use '../base/mixins' as *;

.floating-geometric-shapes {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  overflow: visible;
  pointer-events: none;
  z-index: 1;
  touch-action: none;
  
  &__shape {
    position: absolute;
    color: var(--color-accent);
    user-select: none;
    will-change: transform, opacity, color;
    cursor: default;
    pointer-events: auto;
    z-index: 10;
    isolation: isolate;
    
    transition: color var(--transition-base), opacity var(--transition-base), filter var(--transition-base), transform var(--transition-base);
    transform-origin: center center;
    
    @media (prefers-reduced-motion: reduce) {
      animation: none;
      transition: color var(--transition-base), opacity var(--transition-base);
    }
    
    svg {
      display: block;
      width: 100%;
      height: 100%;
    }
    
    &--triangle {
      animation: floating-shape-float-1 infinite ease-in-out;
    }
    
    &--circle {
      animation: floating-shape-float-2 infinite ease-in-out;
    }
    
    &--square {
      animation: floating-shape-float-3 infinite ease-in-out;
    }
    
    &[data-hover-color="blue"]:hover {
      color: var(--color-white);
      opacity: 1;
      animation-play-state: paused;
      filter: brightness(2) drop-shadow(0 0 5px var(--color-white)) drop-shadow(0 0 10px var(--color-blue));
      transform: translate(-50%, -50%) rotate(var(--initial-rotation, 0deg)) scale(1.2);
      z-index: 20;
    }
    
    &[data-hover-color="red"]:hover {
      color: var(--color-white);
      opacity: 1;
      animation-play-state: paused;
      filter: brightness(2) drop-shadow(0 0 5px var(--color-white)) drop-shadow(0 0 10px var(--color-red));
      transform: translate(-50%, -50%) rotate(var(--initial-rotation, 0deg)) scale(1.2);
      z-index: 20;
    }
    
    &[data-hover-color="yellow"]:hover {
      color: var(--color-white);
      opacity: 1;
      animation-play-state: paused;
      filter: brightness(2) drop-shadow(0 0 5px var(--color-white)) drop-shadow(0 0 10px var(--color-yellow));
      transform: translate(-50%, -50%) rotate(var(--initial-rotation, 0deg)) scale(1.2);
      z-index: 20;
    }
  }
}

@keyframes floating-shape-float-1 {
  0% {
    transform: translate(-50%, -50%) translateY(0) translateX(0) rotate(var(--initial-rotation, 0deg));
  }
  
  25% {
    transform: translate(-50%, -50%) translateY(-25px) translateX(20px) 
               rotate(calc(var(--initial-rotation, 0deg) + 5deg));
  }
  
  50% {
    transform: translate(-50%, -50%) translateY(-35px) translateX(25px) 
               rotate(calc(var(--initial-rotation, 0deg) - 3deg));
  }
  
  75% {
    transform: translate(-50%, -50%) translateY(-20px) translateX(22px) 
               rotate(calc(var(--initial-rotation, 0deg) + 3deg));
  }
  
  100% {
    transform: translate(-50%, -50%) translateY(0) translateX(0) rotate(var(--initial-rotation, 0deg));
  }
}

@keyframes floating-shape-float-2 {
  0% {
    transform: translate(-50%, -50%) translateY(0) translateX(0) rotate(var(--initial-rotation, 0deg));
  }
  
  25% {
    transform: translate(-50%, -50%) translateY(-22px) translateX(18px) 
               rotate(calc(var(--initial-rotation, 0deg) - 4deg));
  }
  
  50% {
    transform: translate(-50%, -50%) translateY(-30px) translateX(15px) 
               rotate(var(--initial-rotation, 0deg));
  }
  
  75% {
    transform: translate(-50%, -50%) translateY(-18px) translateX(20px) 
               rotate(calc(var(--initial-rotation, 0deg) + 4deg));
  }
  
  100% {
    transform: translate(-50%, -50%) translateY(0) translateX(0) rotate(var(--initial-rotation, 0deg));
  }
}

@keyframes floating-shape-float-3 {
  0% {
    transform: translate(-50%, -50%) translateY(0) translateX(0) rotate(var(--initial-rotation, 0deg));
  }
  
  25% {
    transform: translate(-50%, -50%) translateY(-28px) translateX(22px) 
               rotate(calc(var(--initial-rotation, 0deg) + 6deg));
  }
  
  50% {
    transform: translate(-50%, -50%) translateY(-32px) translateX(18px) 
               rotate(calc(var(--initial-rotation, 0deg) - 4deg));
  }
  
  75% {
    transform: translate(-50%, -50%) translateY(-24px) translateX(24px) 
               rotate(calc(var(--initial-rotation, 0deg) + 4deg));
  }
  
  100% {
    transform: translate(-50%, -50%) translateY(0) translateX(0) rotate(var(--initial-rotation, 0deg));
  }
}

@media print {
  .floating-geometric-shapes {
    display: none;
  }
}

